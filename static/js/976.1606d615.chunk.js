"use strict";(self.webpackChunkgoit_react_hw_03_image_finder=self.webpackChunkgoit_react_hw_03_image_finder||[]).push([[976],{2976:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r,a,s=n(2982),i=n(5861),o=n(5671),c=n(3144),l=n(9340),u=n(2882),p=n(7757),d=n.n(p),h=n(2791),g=n(577),x=n(168),f=n(1242),m=f.ZP.ul(r||(r=(0,x.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 15px 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),b=f.ZP.div(a||(a=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  margin: 10px auto;\n"]))),v=n(4569),y=n.n(v);function w(){return(w=(0,i.Z)(d().mark((function e(t,n,r){var a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y()({method:"get",baseURL:"https://pixabay.com/api/",timeout:3e3,params:{key:"24457855-696bd2eff11a5d8607ee7122f",q:"".concat(t),page:"".concat(n),image_type:"photo",orientation:"horizontal",per_page:"".concat(r),safesearch:!0}});case 3:return a=e.sent,e.next=6,a.data;case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var k=function(e,t,n){return w.apply(this,arguments)},j=n(6944),Z=n(184);function P(e){var t=e.message;return(0,Z.jsxs)("div",{role:"alert",style:{textAlign:"center",margin:"10px auto"},children:[(0,Z.jsx)("img",{style:{margin:"10px auto"},src:j,width:"240",alt:"There are no images with this name"}),(0,Z.jsx)("p",{children:(0,Z.jsx)("b",{children:t})})]})}var S,L=n(1413),A=n(4925),_=f.ZP.button(S||(S=(0,x.Z)(["\n  max-width: 250px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 8px 16px;\n  border-radius: 30px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  /* border: 0; */\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus {\n    background-color: #41608f;\n  }\n"]))),I=["children","disabled","active","onClick"],U=function(e){var t=e.children,n=e.disabled,r=(e.active,e.onClick),a=(0,A.Z)(e,I);return(0,Z.jsx)(_,(0,L.Z)((0,L.Z)({},a),{},{disabled:n,onClick:r,children:t}))};U.defaultProps={children:"Default button",onClick:function(){},disabled:!1,active:!1};var R=U,C=n(5042),H=(0,h.lazy)((function(){return n.e(50).then(n.bind(n,6050))})),z=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={page:null,perPage:null,SearchImageArray:[],error:null,status:"idle",totalPages:null,totalHits:null},e.searchPictures=(0,i.Z)(d().mark((function t(){var n,r,a,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.searchQuery,r=e.state.page,a=e.state.perPage,i=k(n,r,a),t.next=6,i.then((function(t){var r=t.hits.map((function(e){return{id:e.id,tags:e.tags,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}));if(e.setState((function(e){return{status:"resolved",SearchImageArray:[].concat((0,s.Z)(e.SearchImageArray),(0,s.Z)(r)),error:null,totalHits:t.totalHits,totalPages:Math.ceil(t.totalHits/a)}})),0===r.length)return Promise.reject(new Error("Try another name: ".concat(n)))})).catch((function(t){return e.setState({status:"rejected",error:t.message})}));case 6:case"end":return t.stop()}}),t)}))),e.handleLoadMoreButton=(0,i.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState((function(e){return{page:e.page+1}}));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return(0,c.Z)(n,[{key:"componentDidUpdate",value:function(){var e=(0,i.Z)(d().mark((function e(t,n){var r,a,s,i,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.searchQuery,a=this.props.searchQuery,s=this.props.selectedOption.value,i=this.props.page,o=this.state.page,c=n.page,e.prev=6,r===a){e.next=18;break}return e.next=10,this.setState({SearchImageArray:[],page:i,perPage:s,status:"pending"});case 10:return e.next=12,this.searchPictures();case 12:return e.t0=g.Am,e.next=15,"\u041d\u0430\u0439\u0434\u0435\u043d\u043e ".concat(this.state.totalHits," \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 ").concat(a);case 15:e.t1=e.sent,e.t2={delay:200},e.t0.success.call(e.t0,e.t1,e.t2);case 18:if(o===c||1===o){e.next=29;break}return e.next=21,this.setState({perPage:s});case 21:return e.next=23,this.searchPictures();case 23:return e.next=25,window.scrollBy({top:1e3,behavior:"smooth"});case 25:if(!(this.state.SearchImageArray.length>=this.state.totalHits)){e.next=29;break}return e.next=28,g.Am.info("\u0421\u043e\u0436\u0430\u043b\u0435\u0435\u043c, \u043d\u043e \u0432\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043a\u043e\u043d\u0446\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \n \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e ".concat(a,"."));case 28:return e.abrupt("return",e.sent);case 29:e.next=33;break;case 31:e.prev=31,e.t3=e.catch(6);case 33:case"end":return e.stop()}}),e,this,[[6,31]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.SearchImageArray,n=e.error,r=e.status,a=e.totalHits;return"idle"===r?(0,Z.jsxs)("div",{style:{textAlign:"center",fontSize:"larger"},children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ",(0,Z.jsx)("b",{children:"\u0438\u043c\u044f"})," \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 ",(0,Z.jsx)("b",{children:"per page"}),", ",(0,Z.jsx)("br",{}),"\u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u043d\u0438\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435."]}):"pending"===r?(0,Z.jsx)(C.Z,{}):"rejected"===r?(0,Z.jsx)(P,{message:n}):"resolved"===r?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(h.Suspense,{fallback:(0,Z.jsxs)("div",{children:["Loading...",(0,Z.jsx)(C.Z,{})]}),children:[(0,Z.jsx)(m,{SearchImageArray:t,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,a=e.tags;return(0,Z.jsx)(H,{webformatURL:n,largeImageURL:r,tags:a},t)}))}),"pending"===r&&(0,Z.jsx)(C.Z,{}),t.length<a&&(0,Z.jsx)(b,{children:(0,Z.jsx)(R,{type:"button",active:!0,disabled:!1,onClick:this.handleLoadMoreButton,children:"Load More"})})]})}):void 0}}]),n}(h.Component),M=z},6944:function(e,t,n){e.exports=n.p+"static/media/error-img-api.bcb458f971ed82a7fdbc.webp"}}]);
//# sourceMappingURL=976.1606d615.chunk.js.map